{% doc %}
  @prompt
    one picture /banner/ i can adjust the size of width and height., the width and height are range limited... please fix it... my banner are same width with my pages.. just need adjust the height
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-banner-{{ ai_gen_id }} {
    display: block;
    width: 100%;
  }

  .ai-banner-container-{{ ai_gen_id }} {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
  }

  .ai-banner-image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    margin: 0 auto;
  }

  .ai-banner-image-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    object-fit: cover;
    display: block;
    border-radius: {{ block.settings.border_radius }}px;
  }

  .ai-banner-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-radius: {{ block.settings.border_radius }}px;
  }

  .ai-banner-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-banner-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  @media screen and (max-width: 749px) {
    .ai-banner-image-{{ ai_gen_id }},
    .ai-banner-placeholder-{{ ai_gen_id }} {
      height: {{ block.settings.mobile_image_height }}px;
    }
  }
{% endstyle %}

<ai-banner-{{ ai_gen_id }} class="ai-banner-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-banner-container-{{ ai_gen_id }}">
    <div class="ai-banner-image-wrapper-{{ ai_gen_id }}">
      {% if block.settings.image %}
        <img
          src="{{ block.settings.image | image_url: width: 2000 }}"
          alt="{{ block.settings.image.alt | escape }}"
          loading="lazy"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.height }}"
          class="ai-banner-image-{{ ai_gen_id }}"
        >
      {% else %}
        <div class="ai-banner-placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
          <div class="ai-banner-empty-state-{{ ai_gen_id }}">
            Add an image to get started
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</ai-banner-{{ ai_gen_id }}>

{% schema %}
{
  "name": "Adjustable banner",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Desktop"
    },
    {
      "type": "range",
      "id": "image_height",
      "label": "Desktop height",
      "min": 100,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "default": 400
    },
    {
      "type": "header",
      "content": "Mobile"
    },
    {
      "type": "range",
      "id": "mobile_image_height",
      "label": "Mobile height",
      "min": 100,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 300
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "border_radius",
      "label": "Corner radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "Adjustable banner"
    }
  ]
}
{% endschema %}
